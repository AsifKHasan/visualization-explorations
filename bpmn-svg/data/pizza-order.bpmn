/*
1. to parse the bpmn only, run
    python bpmn-parser.py < ../data/pizza-order.bpmn > ../out/pizza-order.json
    it will generate json output at ../out/pizza-order.json

2. to parse the bpmn and generate the svg, run
    python bpmn-parser.py < ../data/pizza-order.bpmn | tee ../out/pizza-order.json | python bpmn-to-svg.py
    it will generate svg output at ../out/pizza-order.svg

3. to generate svg from an existing parsed json (generated by bpmn-parser.py), run
    python bpmn-to-svg.py < ../out/pizza-order.json
    it will generate svg output at ../out/pizza-order.svg
*/
graph pizza_order {
    label = "Pizza Order Process Model"

    lane customer {
        label = "Customer"
        pool pizza_customer {
            label = "Pizza Customer"

            start               hungry                  [label="Hungry";]
            task                select_pizza            [label="Select Pizza";]
            task                order_pizza             [label="Order Pizza";]
            eventBased          on_order                [label="";]
            throwMessage        pizza_received          [label="Pizza Received";]
            task                check_pizza             [label="Check Pizza";]

            timer               timer_4m_mins           [label="45 Minutes";]
            task                ask_for_pizza           [label="Ask for Pizza";]

            task                eat_pizza               [label="Eat Pizza";]
            task                pay_for_pizza           [label="Pay for Pizza";]
            end                 hunger_satisfied        [label="Hunger Satisfied";]

            hungry              --> select_pizza        --> order_pizza         --> on_order
            pizza_received      --> check_pizza
            on_order            --> pizza_received      --> pay_for_pizza       --> eat_pizza           --> hunger_satisfied
            on_order            --> timer_4m_mins       --> ask_for_pizza       --> event_based
        }

        # edges within pools of customer
        # edges from customer:pizza_customer
    }
}
